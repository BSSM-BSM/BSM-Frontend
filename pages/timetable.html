<main>
  <div class="title">
    <h1>시간표</h1>
  </div>
  <div class="container">
    <span class="information">
      <div class="timetable_select">
        <ul class="select_grade">
          <li class="active">1학년</li>
          <li>2학년</li>
          <li>3학년</li>
        </ul>
        <ul class="select_class">
          <li>1반</li>
          <li class="active">2반</li>
          <li>3반</li>
          <li>4반</li>
        </ul>
      </div>
      <table class="class_time center"><tbody>
        <th></th>
        <th>월</th>
        <th>화</th>
        <th>수</th>
        <th>목</th>
        <th>금</th>
      </tbody></table>
      <br>
      <p class="time"></p>
      <p class="clock"></p>
      <script>
        var i, j, times, day, hour, min, sec, time, last_day=0,last_time=0, classTimeStr, classTime;
        var classTimes=[[8, 40, 9, 30], [9, 40, 10, 30], [10, 40, 11, 30], [11, 40, 12, 30], [12, 30, 13, 20], [13, 20, 14, 10], [14, 20, 15, 10], [15, 20, 16, 10], [16, 20, 18, 00], [18, 00, 18, 50], [19, 0, 20, 40]];
        var classTimeTable=[
          ['영어', 'OS', 'OS', '체육', '점심식사', '과학', '국어', '자율', '객체지향', '저녁식사', '전공동아리'],
          ['알고리즘', '알고리즘', '알고리즘', '사회', '점심식사', '직업', '수학', '회화', '피지컬 컴퓨팅', '저녁식사', '전공동아리'],
          ['사회', '수학', '과학', '음악', '점심식사', '파이썬', '파이썬', '파이썬', '토익', '저녁식사', '전공동아리'],
          ['수학', '과학', '컴구', '컴구', '점심식사', '음악', '국어', '진로', '웹 프로그래밍', '저녁식사', '전공동아리'],
          ['사회', '자료구조', '자료구조', '자료구조', '점심식사', '창체', '창체', '', '', '', ''],
        ];
        for(i=0;i<classTimes.length;i++){
          $('tbody').append('<tr><td>' + classTimes[i][0] + ':' + classTimes[i][1] + '~' + classTimes[i][2] + ':' + classTimes[i][3] + '</td><td></td><td></td><td></td><td></td><td></td></tr>')
        }
        times=new Date();
        day=times.getDay();
        hour=times.getHours();
        min=times.getMinutes();
        sec=times.getSeconds();
        time=(hour*60)+min;
        $(".clock").text(hour+':'+min+':'+sec);
        updateTimeTable();
        $(document).ready(function(){
          setInterval(function(){
            times=new Date();
            day=times.getDay();
            hour=times.getHours();
            min=times.getMinutes();
            sec=times.getSeconds();
            time=(hour*60)+min;
            $(".clock").text(hour+':'+min+':'+sec);
            if(time!=last_time){
              updateTimeTable();
            }
            last_time=time;
          }, 500);
        });
        function updateTimeTable(){
          classTime=null;
          classTimeStr='<tr><th></th><th>월</th><th>화</th><th>수</th><th>목</th><th>금</th></tr>';
          $('td').removeClass('active_day');
          $('td').removeClass('active_time');
          for (i=0;i<classTimeTable.length;i++){
            for (j=0;j<classTimeTable[i].length;j++){
              if(day-1==i){
                if(((hour*60)+min>=(classTimes[j][0]*60)+classTimes[j][1]) && ((hour*60)+min<(classTimes[j][2]*60)+classTimes[j][3])){
                  classTime=classTimeTable[i][j];
                  $('tbody tr:nth-child('+(j+2)+') td:nth-child('+(i+2)+')').addClass('active_time');
                }
                $('tbody tr:nth-child('+(j+2)+') td:nth-child('+(i+2)+')').addClass('active_day');
              }
              $('tbody tr:nth-child('+(j+2)+') td:nth-child('+(i+2)+')').text(classTimeTable[i][j])
            }
          }
          if(classTime==null){
            if((hour*60)+min>(20*60)+40 || (hour*60)+min<(8*60)+40){
              $('.time').text('하루 일과 끝');
            }else{
              $('.time').text('현재 쉬는 시간중');
            }
          }else{
            $('.time').text('현재 '+classTime+' 시간중');
          }
          last_day=day;
        }
      </script>
    </span>
  </div>
</main>
<div class="dim menu_close"></div>
<title>시간표 - BSM</title>
<meta property="title" content="시간표 - BSM | 부산소마고 지원 서비스">
<meta property="description" content="부산 소프트웨어 마이스터고 학교 지원 서비스">
<meta property="og:title" content="시간표 - BSM | 부산소마고 지원 서비스">
<meta property="og:description" content="부산 소프트웨어 마이스터고 학교 지원 서비스">