<style>
  body{background-image:none;}
</style>
<main>
  <div class="section" id="minecraft-main">
    <div class="container vertical_center">
      <h1 id="main_txt">Minecraft Server</h1>
      <br>
      <h2 id="main_txt">서버 주소 : mine.bssm.kro.kr<br>서버 버전 : 1.17.1 정품서버<br>자바(PC) 1.17.1 베드락(Mobile) 1.17.x</h2>
      <br>
      <a href="minecraft:" class="button launch_minecraft">마크 실행</a>
    </div>
  </div>
  <div class="section" id="minecraft-about">
    <div>
      <div class="footer">
        <div class="container vertical_center">
          <div class="minecraft_status">
            <h1>Server Status</h1>
            <style>
              @font-face {
                font-family: 'minecraftiaregular';
                src: url('/resource/font/minecraftia-webfont.woff') format('woff');
                font-weight: normal;
                font-style: normal;
              }
            </style>
            <div class="status_view">
              <div class="server_left_wrap">
                <div class="server_image"></div>
                <div class="server_description">
                  <div class="server_top_wrap">
                    <p class="minecraft_name" style="text-align:left;">BSSM</p>
                    <div class="minecraft_ping" style="background-image:url('/resource/minecraft/images/pingError.png');"></div>
                    <p class="minecraft_players" style="text-align:right;"></p>
                    <p class="minecraft_serverQueryTime" style="text-align:right;"></p>
                    <p class="minecraft_serverVersion" style="text-align:right;"></p>
                  </div>
                  <div class="minecraft_motd" style="text-align:left;"></div>
                </div>
              </div>
              <div class="server_right_wrap">
                <div class="minecraft_playersName"><ul></ul></div>
              </div>
            </div>
            <button class="button" onclick="statusLoad();">서버정보 불러오기</button>
            <script>
              var motd = "", serverVersion = 0, playersName = "";
              function statusLoad(){
                $('.minecraft_ping')[0].style.backgroundImage = "url('/resource/minecraft/images/pingWait.gif')";
                $('.minecraft_motd').html('<p style="color:gray;">서버에 연결 중...</p>');
                $.ajax({
                  type:"POST",
                  url:'/minecraft_status.php',
                  success:function(data){
                    data = JSON.parse(data);
                    if(data.status!=1){
                      $('.minecraft_ping')[0].style.backgroundImage = "url('/resource/minecraft/images/pingError.png')";
                      switch(data.status){
                        case 2:
                        $('.minecraft_motd').html('<p style="color:red;">마크 서버가 현재 닫혀있습니다.</p>');
                          break;
                        case 3:
                        $('.minecraft_motd').html('<p style="color:red;">연결은 되었지만 서버 정보를 불러올 수 없습니다.</p>');
                          break;
                        case 0:
                        default:
                        $('.minecraft_motd').html('<p style="color:red;">알 수 없는 오류입니다.</p>');
                          break;
                      }
                    }else{
                      $('.minecraft_ping')[0].style.backgroundImage = "url('/resource/minecraft/images/pingOk.png')";
                      $('.pageAlert').removeClass('on');
                      $('.minecraft_serverQueryTime').text("쿼리 : "+data.timer+"초");
                      motd = "";
                      for(var i=0;i<data.description['extra'].length;i++){
                        if(data.description['extra'][i]['color']!==undefined){
                          switch(data.description['extra'][i]['color']){
                            case 'red':
                              motd += '<span style="color:#FC5454;">'+data.description['extra'][i]['text']+'</span>';
                              break;
                            case 'gold':
                              motd += '<span style="color:#FCA800;">'+data.description['extra'][i]['text']+'</span>';
                              break;
                            case 'green':
                              motd += '<span style="color:#54FC54;">'+data.description['extra'][i]['text']+'</span>';
                              break;
                            case 'blue':
                              motd += '<span style="color:#5454FC;">'+data.description['extra'][i]['text']+'</span>';
                              break;
                            case 'light_purple':
                              motd += '<span style="color:#FC54FC;">'+data.description['extra'][i]['text']+'</span>';
                              break;
                            default:
                              motd += '<span style="color:'+data.description['extra'][i]['color']+';">'+data.description['extra'][i]['text']+'</span>';
                              break;
                          }
                        }else{
                          motd += '<span style="color:#7E7E7E;">'+data.description['extra'][i]['text']+'</span>';
                        }
                      }
                      $('.server_image').html('<img width="64" height="64" src="'+data.image+'">');
                      $('.minecraft_motd').html(motd);
                      $('.minecraft_serverVersion').text(data.version['name']);
                      $('.minecraft_players').text(+data.players['online']+"/"+data.players['max']);
                      playersName = "";
                      if(parseInt(data.players['online'])>0){
                        for(var i=0;i<data.players['sample'].length;i++){
                          playersName += "<li>"+data.players['sample'][i]['name']+"</li>";
                        }
                        $('.minecraft_playersName').html("<ul>"+playersName+"</ul>");
                      }else{
                        $('.minecraft_playersName').text("현재 접속중인 플레이어가 없습니다.");
                      }
                    }
                  },
                  error:function(request,status,error){
                    $('.minecraft_ping')[0].style.backgroundImage = "url('/resource/minecraft/images/pingError.png')";
                    if(request.status==0){
                      $('.minecraft_motd').html('<p style="color:red;">마크 서버 연결에 실패하였습니다.</p>');
                    }else{
                      $('.minecraft_motd').html('<p style="color:red;">'+"code:"+request.status+"\n"+"message:"+request.responseText+"\n"+"error:"+error+'</p>');
                    }
                  },
                  complete:function(){}
                })
              }
              statusLoad();
            </script>
          </div>
        </div>
      </div>
      <footer>
        <p>부산 소프트웨어 마이스터고 공식아닌 비공식 마크 서버</p>
        <p>Copyright 2021. BSM TEAM all rights reserved.</p>
        <p>2021 BSSM Project</p>
      </footer>
    </div>
  </div>
</main>
<div class="dim menu_close"></div>
<title>Minecraft Server</title>
<meta property="title" content="Minecraft Server">
<meta property="description" content="마인크래프트 서버">
<meta property="og:title" content="Minecraft Server">
<meta property="og:description" content="마인크래프트 서버">