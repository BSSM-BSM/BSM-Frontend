<!DOCTYPE HTML>
<html lang="kr">
<head>
    <%- include('../common/head') %>
    <link rel="stylesheet" type="text/css" href="/css/etc/meister.css">
    <title>마이스터 상벌점 확인 - BSM</title>
    <meta property="title" content="마이스터 상벌점 확인 - BSM | 부산소마고 지원 서비스">
    <meta property="description" content="부산 소프트웨어 마이스터고 학교 지원 서비스">
    <meta property="og:title" content="마이스터 상벌점 확인 - BSM | 부산소마고 지원 서비스">
    <meta property="og:description" content="부산 소프트웨어 마이스터고 학교 지원 서비스">
    <style>body{background-image:none;}.title{padding:5rem 0 0 0;}</style>
</head>
<body>
    <main>
        <div class="title">
          <h1>마이스터 상벌점 확인</h1>
        </div>
        <div class="container">
          <div class="information">
            <div>
              <p>상벌점을 보기위해 마이스터 인증제 사이트 비밀번호가 필요합니다.</p>
              <br>
              <form class="meisterInfo" method="post" autocomplete="off" onsubmit="meister();return false;">
                <input type="number" class="hak" placeholder="학년" min="1" max="3" required>
                <input type="number" class="ban" placeholder="반" min="1" max="4" required>
                <input type="number" class="bun" placeholder="번호" min="1" max="16" required>
                <br>
                <input type="password" class="pw" placeholder="마이스터 인증제 사이트 비밀번호" required>
                <br><br>
                <button type="submit" class="button">상벌점 조회</button>
              </form>
            </div>
            <div class="meister"></div>
            <script>
              let hak=member.grade, ban=member.classNo, bun=member.studentNo
              const meister = ()=>{
                $.ajax({
                  type:'POST',
                  data:{
                    pw: $('.meisterInfo .pw').val(),
                  },
                  url:apiUrl+'/meister/'+
                  $('.meisterInfo .hak').val()+'/'+
                  $('.meisterInfo .ban').val()+'/'+
                  $('.meisterInfo .bun').val(),
                  cache:false,
                  success:function(data){
                    $('.meisterInfo .pw').val("")
                    $('.meister').html(data)
                    $$('.fas.fa-sad-cry').forEach(item =>{
                        item.parentElement.parentElement.parentElement.parentElement.classList.add('bed')
                    })
                  },
                  error: function(data) {
                    error_code(0, 0);
                  }
                });
              }
              $('.meisterInfo .hak').val(hak)
              $('.meisterInfo .ban').val(ban)
              $('.meisterInfo .bun').val(bun)
            </script>
          </div>
        </div>
    </main>
    <%- include('../common/loginBox') %>
</body>
</html>